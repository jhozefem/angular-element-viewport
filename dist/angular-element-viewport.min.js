function inViewportDirective(e){return{restrict:"A",replace:!0,link:function(t,n,i){e(function(){t.$watch(i.inViewportDirective,function(){insertElement(n)})},0)}}}function insertElement(e){elements.push(e)}function checkElements(){for(var e in elements)inViewport(elements[e])}function inViewport(e){var t=e.getBoundingClientRect();return t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function checkElementsHandler(){timeoutRef&&clearTimeout(timeoutRef),timeoutRef=setTimeout(checkElements,CHECK_ELEMENTS_TIMEOUT)}angular.module("element-viewport").directive("inViewport",inViewportDirective),inViewportDirective.$inject=["$timeout"];var elements=[],CHECK_ELEMENTS_TIMEOUT=300,timeoutRef;window.addEventListener("scroll",checkElementsHandler),window.addEventListener("resize",checkElementsHandler);